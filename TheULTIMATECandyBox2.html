<!DOCTYPE html>
<html>
	<head>
		<title> The ULTIMATE Candy Box 2.0!!!
</title>
	</head>
	<body style ="background-image:url('images/cotton.jpg'); background-size: 100%; background-repeat: repeat; background-position: centre";>
		
	<h1 style="background-color:rgb(0, 200, 200); font-family:comicsansms;">Project: THE ULTIMATE CANDY BOX 2.0</h1>
	
	<h1 style="font-size:170%; font-family:comicsansms;">Team Name: We Fail At Life ;-;</h1>
	
	<h2 style="font-family:comicsansms;">Introduction:</h2>
	
	<p style="font-family:comicsansms">The ULTIMATE CANDY BOX 2.0 is a RFID candy dispenser that dispenses candy when the correct tag is scanned on the reader.</p>
	
	<style>
	a:link, a:visited {
	  background-color: rgb(0,200,200);
	  color: rgb(0,0,0);
	  padding: 2px 5px;
	  text-decoration: none;
	  display: inline-block;
	  text-align:center;
	  margin:auto;
	}

	a:hover, a:active {
	  background-color: rgb(0,200,200);
	}
	</style>
	
	<h4>
	<style>
	iframe {
	height: 400px;
	width: 600px;
	resize: both;
	overflow:auto;
	-webkit-transform-origin: 0px 0px;
	transform-origin: 0px 0px 0px;
	-webkit-transform: scale(0.5);
	transform: scale(0.5);
	margin-left: 0px;
	margin-top: 0px;
	display:block;
	overflow-y: hidden;
	line-height: 0;
	}
	</style>

		<iframe style = "display:block; vertical-align: bottom;" src="file:///Users/AliciaKong/Documents/HTML/SketchyAd.html"> </iframe>
	</h4>
	 <br>
	 <p style ="font-family: comicsansms">
		 Click on the bottom right corner to change the size of this ad!
	 </p>
	 
	<button style="border-radius:10px; font-family: comicsansms; background-color: rgb(0,200,200)"> <a href = "SketchyAd.html" title="SketchyAd;" target="_blank"> <center> <br> CLICK ME TO SEE THIS AD! </center> </a> </button> 

	
	<h2 style="font-family:comicsansms;">How We Came Up With the Idea:</h2>
	<p style="font-family:comicsansms;">Sally suggested that we make a jellybean can that opens but since we didn't like that idea, we decided to make a candy dispenser because most people like candy.</p>
	
	<h2 style="font-family:comicsansms;">Diagram:</h2>

	<img src="images/circuitdiagram.jpg" alt ="Circuit Diagram" width = "400" height ="250">
	<h2 style="font-family:comicsansms;">
		How it Works:
	</h2>
	<p style="font-family:comicsansms;">
		When the battery is plugged in and when the correct tag is close enough to the reader, the tag uses the reader’s electricity to send it’s UID back. If the reader recognizes the UID, the blue light will turn on. The arduino board then runs the code for the motor, so that the micro servo motor will spin 120 degrees counter clockwise, so that the the hole on the moving plate will match up with the hole on the non-moving plate. Then, the candy slides down the chute. If you scan the wrong tag, the red light will turn on, as the UID isn’t recognized. As a result, you get no candy.
		<br>
		UID = unique identifier
	</p>
	<style>
		.rightright{
			float: right;
			height: 540px;
			width: 720px;
		}
		</style>
		
	<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2875.074429387736!2d-79.44440548529077!3d43.89572517911373!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x882b2a6957d35d09%3A0x69b4a629520dc901!2sBulk+Barn!5e0!3m2!1sen!2sca!4v1552157679048" width="600" height="450" frameborder="0" style="border:0" allowfullscreen class ="rightright"> </iframe>
	
	<h2 style="font-family:comicsansms;">
		Materials:
	</h2>

	<ul style="font-family:comicsansms;">
		<li>RFID R522 Reader</li>
		<li>RFID Tag</li>
		<li>RFID Card</li>
		<li>Micro Servo Motor</li>
		<li>Jumper Wires</li>
		<li>Wires</li>
		<li>Arduino UNO Board</li>
		<li>6 Alligator Clips</li>
		<li>Blue LED</li>
		<li>Red LED</li>
		<li>Electrical Tape</li>
		<li>Plastic Bottle</li>
		<li>Clear Tape</li>
		<li>Candy</li>
		<li>Cardboard</li>
		<li>Glue Gun</li>
		<li>Glue Sticks</li>
		<li>Compass</li>
		<li>X-acto Knife</li>
		<li>Scissors</li>
		<li>9V Battery</li>
	</ul>
		
	<h2 style="font-family:comicsansms">Code:</h2>
	<style>
		.p3 {
			white-space: wrap;
			width: 500px;
			height: 300px;
			overflow-y: scroll;
			border: 0.5px solid #000000;
		}
	</style>
	
	<p style="font-family:comicsansms; background-color:rgb(0,200,200)" class ="p3">
#include <Servo.h><br>
#include <SPI.h><br>
#include <MFRC522.h><br><br>

#define SS_PIN 10<br>
#define RST_PIN 9<br>
#define LED_OK 6<br>
#define LED_DENIED 7<br><br>

MFRC522 rfid(SS_PIN, RST_PIN); // Instance of the class<br><br>

Servo servo;<br>
int angle = 120;<br><br>

void setup() {<br>
  // Initialize RFID<br>
  Serial.begin(9600);   // Initiate a serial communication<br>
  SPI.begin();  	// Initiate  SPI bus<br>
  rfid.PCD_Init();   // Initiate rfidB<br>
  Serial.println("Approximate your card to the reader...");<br>
  Serial.println();<br><br>

  // Init LED<br>
  pinMode(LED_OK, OUTPUT);<br>
  pinMode(LED_DENIED, OUTPUT);<br><br>

  // Init Servo Motor<br>
  servo.attach(8);<br>
  servo.write(angle);<br>
}<br><br><br>


void loop()<br>
{<br>
  // Look for new cards<br>
  if ( ! rfid.PICC_IsNewCardPresent())<br>
  {<br>
	return;<br>
  }<br>
  // Select one of the cards<br>
  if ( ! rfid.PICC_ReadCardSerial())<br>
  {<br>
	return;<br>
  }<br>
  //Show UID on serial monitor<br>
  Serial.print("UID tag :");<br>
  String content= "";<br>
  byte letter;<br>
  for (byte i = 0; i < rfid.uid.size; i++)<br>
  {<br>
 	Serial.print(rfid.uid.uidByte[i] < 0x10 ? " 0" : " ");<br>
 	Serial.print(rfid.uid.uidByte[i], HEX);<br>
 	content.concat(String(rfid.uid.uidByte[i] < 0x10 ? " 0" : " "));<br>
 	content.concat(String(rfid.uid.uidByte[i], HEX));<br>
  }<br>
  Serial.println();<br>
  Serial.print("Message : ");<br>
  content.toUpperCase();<br>
  if (content.substring(1) == "9B 34 59 A3") //change here the UID of the card/cards that you want to give access<br>
  {<br>
	Serial.println("Authorized access");<br>
	Serial.println();<br>
	digitalWrite(LED_OK, HIGH);<br>
	servo.write(0);<br>
	delay(1000);<br>
	digitalWrite(LED_OK, LOW);<br>
	servo.write(120);<br>
	delay(1000);<br>
  }<br><br>
 
 else   {<br>
	Serial.println(" Access denied");<br>
	digitalWrite(LED_DENIED, HIGH);<br>        	 
	delay(1000);<br>
	digitalWrite(LED_DENIED, LOW);<br>
	delay(1000);<br>
  }<br><br>
 
}<br>

</body>